# Schema Editor

Chromeæ‰©å±•ç¨‹åºï¼Œç”¨äºå®æ—¶æŸ¥çœ‹å’Œç¼–è¾‘DOMå…ƒç´ çš„Schemaæ•°æ®ã€‚

## åŠŸèƒ½

- ğŸ¯ æ™ºèƒ½å…ƒç´ æ£€æµ‹ï¼šæŒ‰ä½ Alt/Option é”®æ—¶è‡ªåŠ¨æ£€æµ‹å’Œé«˜äº®ç›®æ ‡å…ƒç´ 
- ğŸ“ Schemaç¼–è¾‘å™¨ï¼šå†…ç½®Monacoç¼–è¾‘å™¨ï¼Œæ”¯æŒJSONæ ¼å¼åŒ–å’Œæ ¡éªŒ
- ğŸ¤– æ™ºèƒ½è§£æï¼šè‡ªåŠ¨è§£æ Markdown å­—ç¬¦ä¸²ä¸ºç»“æ„åŒ–æ•°æ®ï¼Œå®Œç¾é€‚é… AI æ™ºèƒ½ä½“å¯¹è¯åœºæ™¯
- ğŸ’¾ å®æ—¶æ›´æ–°ï¼šä¿®æ”¹åç›´æ¥åŒæ­¥åˆ°é¡µé¢
- âš™ï¸ çµæ´»é…ç½®ï¼šå¯è‡ªå®šä¹‰å±æ€§åã€æœç´¢æ·±åº¦ã€èŠ‚æµé—´éš”ç­‰å‚æ•°

## æŠ€æœ¯æ ˆ

React 18 + TypeScript + Vite + Ant Design 5 + Monaco Editor + Manifest V3

## å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»º
npm run build

# æ‰“åŒ…
npm run package
```

åŠ è½½åˆ°Chromeï¼šè®¿é—® `chrome://extensions/`ï¼Œå¼€å¯å¼€å‘è€…æ¨¡å¼ï¼Œé€‰æ‹© `dist` ç›®å½•ã€‚

## ä½¿ç”¨

ç‚¹å‡»å·¥å…·æ å›¾æ ‡æ¿€æ´»æ’ä»¶ï¼ˆç»¿è‰²=æ¿€æ´»ï¼Œç°è‰²=æœªæ¿€æ´»ï¼‰ã€‚æŒ‰ä½ Alt/Option é”®æ‚¬åœå…ƒç´ æ˜¾ç¤ºé«˜äº®ï¼Œç‚¹å‡»æ‰“å¼€ç¼–è¾‘å™¨ã€‚

## é¡µé¢é›†æˆ

é¡µé¢éœ€æä¾›ä»¥ä¸‹å…¨å±€æ–¹æ³•å’ŒDOMæ ‡è®°ï¼š

### å…¨å±€æ–¹æ³•

```typescript
// è·å–Schema
window.__getContentById = (params: string) => {
  // params: 'param1' æˆ– 'param1,param2'
  return { /* Schemaå¯¹è±¡ */ }
}

// æ›´æ–°Schema
window.__updateContentById = (schema: any, params: string) => {
  // æ›´æ–°é€»è¾‘
  return true
}
```

å‡½æ•°åå¯åœ¨é…ç½®é¡µé¢è‡ªå®šä¹‰ã€‚

### å…ƒç´ æ ‡è®°

```html
<!-- å•ä¸ªå‚æ•° -->
<div data-id="param1"></div>

<!-- å¤šä¸ªå‚æ•° -->
<div data-id="param1,param2"></div>
```

å±æ€§å€¼ä¸ºå‚æ•°æ•°ç»„çš„ `join(',')` ç»“æœã€‚

> **æ³¨æ„**ï¼š`data-id` ç¬¦åˆ [Agentic UI](https://github.com/ant-design/agentic-ui) çš„è§„èŒƒï¼Œä½¿ç”¨é»˜è®¤é…ç½®å³å¯ï¼Œæ— éœ€ç”¨æˆ·æ‰‹åŠ¨é…ç½®å±æ€§åã€‚å¦‚æœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œå±æ€§åä¹Ÿå¯åœ¨é…ç½®é¡µé¢è‡ªå®šä¹‰ã€‚

### Markdown å­—ç¬¦ä¸²è‡ªåŠ¨è§£æ (v1.0.6+)

æ’ä»¶æ”¯æŒæ™ºèƒ½ä½“å¯¹è¯åœºæ™¯ï¼Œå½“ `__getContentById` è¿”å›å­—ç¬¦ä¸²ç±»å‹æ—¶ï¼Œä¼šè‡ªåŠ¨å°†å…¶è§£æä¸º Markdown Elements ç»“æ„ï¼š

```typescript
// AI æ™ºèƒ½ä½“è¿”å› Markdown å­—ç¬¦ä¸²
window.__getContentById = (params: string) => {
  return `# æ™ºèƒ½ä½“å›å¤

è¿™æ˜¯æ™ºèƒ½ä½“ç”Ÿæˆçš„å†…å®¹...

- æ”¯æŒåˆ—è¡¨
- æ”¯æŒä»£ç å—
- æ”¯æŒå„ç§ Markdown è¯­æ³•`
}
```

æ’ä»¶ä¼šè‡ªåŠ¨å°† Markdown å­—ç¬¦ä¸²è§£æä¸ºç»“æ„åŒ–çš„ Elements æ•°ç»„è¿›è¡Œç¼–è¾‘ï¼Œä¿å­˜æ—¶è‡ªåŠ¨è½¬æ¢å› Markdown å­—ç¬¦ä¸²ã€‚è¯¥åŠŸèƒ½é»˜è®¤å¼€å¯ï¼Œç¬¦åˆ [Agentic UI](https://github.com/ant-design/agentic-ui) çš„æ•°æ®è§„èŒƒï¼Œå¯åœ¨é…ç½®é¡µé¢ã€é«˜çº§ã€‘é€‰é¡¹ä¸­å…³é—­ã€‚

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ background/         # Service Worker
â”œâ”€â”€ content/           # Content Script + React UI
â”œâ”€â”€ options/           # é…ç½®é¡µé¢
â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ logger.ts      # æ—¥å¿—å·¥å…·
â”‚   â”œâ”€â”€ markdown-parser.ts  # Markdown è§£æ
â”‚   â””â”€â”€ storage.ts     # é…ç½®å­˜å‚¨
â””â”€â”€ types/             # ç±»å‹å®šä¹‰
public/
â”œâ”€â”€ injected.js        # é¡µé¢æ³¨å…¥è„šæœ¬
â””â”€â”€ icons/             # æ‰©å±•å›¾æ ‡
```

## License

MIT

