<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CSS å˜é‡éš”ç¦»æµ‹è¯• - Shadow DOM Theme</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      padding: 20px;
      background-color: #f0f2f5;
    }
    
    .test-section {
      background: white;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    
    h1 {
      color: #1890ff;
      margin-bottom: 10px;
    }
    
    h2 {
      color: #262626;
      font-size: 18px;
      margin-bottom: 15px;
      border-bottom: 2px solid #f0f0f0;
      padding-bottom: 10px;
    }
    
    .description {
      color: #8c8c8c;
      margin-bottom: 20px;
      line-height: 1.6;
    }
    
    .test-case {
      margin-bottom: 20px;
      padding: 15px;
      background: #fafafa;
      border-radius: 4px;
      border-left: 3px solid #1890ff;
    }
    
    .test-title {
      font-weight: 600;
      color: #262626;
      margin-bottom: 8px;
    }
    
    .expected {
      color: #52c41a;
      font-size: 14px;
      margin-top: 8px;
    }
    
    .warning {
      color: #faad14;
      background: #fffbe6;
      padding: 12px;
      border-radius: 4px;
      border-left: 3px solid #faad14;
      margin-bottom: 20px;
    }
    
    code {
      background: #f5f5f5;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
      font-size: 13px;
    }
    
    .css-vars-display {
      background: #262626;
      color: #52c41a;
      padding: 15px;
      border-radius: 4px;
      font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
      font-size: 12px;
      line-height: 1.8;
      margin-top: 10px;
      max-height: 300px;
      overflow-y: auto;
    }
    
    .button-group {
      margin-top: 15px;
      display: flex;
      gap: 10px;
    }
    
    button {
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s;
    }
    
    .btn-primary {
      background: #1890ff;
      color: white;
    }
    
    .btn-primary:hover {
      background: #40a9ff;
    }
    
    .btn-danger {
      background: #ff4d4f;
      color: white;
    }
    
    .btn-danger:hover {
      background: #ff7875;
    }
    
    .btn-success {
      background: #52c41a;
      color: white;
    }
    
    .btn-success:hover {
      background: #73d13d;
    }
  </style>
</head>
<body>
  <h1>ğŸ”¬ CSS å˜é‡éš”ç¦»æµ‹è¯• - Shadow DOM Theme</h1>
  <p class="description">
    æ­¤é¡µé¢ç”¨äºæµ‹è¯• Chrome æ‰©å±•æ’ä»¶åœ¨ä½¿ç”¨äº† Ant Design çš„å®¿ä¸»é¡µé¢ä¸­ï¼Œæ˜¯å¦èƒ½æ­£ç¡®éš”ç¦»æ ·å¼ã€‚
  </p>

  <!-- æµ‹è¯•è¯´æ˜ -->
  <div class="test-section">
    <h2>ğŸ“‹ æµ‹è¯•è¯´æ˜</h2>
    <div class="warning">
      <strong>âš ï¸ æ³¨æ„ï¼š</strong>æœ¬æµ‹è¯•é¡µé¢éœ€è¦å®‰è£…å¹¶æ¿€æ´» Schema Editor æ’ä»¶ã€‚
    </div>
    <ol>
      <li>æœ¬é¡µé¢æ¨¡æ‹Ÿä¸€ä¸ªä½¿ç”¨äº†è‡ªå®šä¹‰ Ant Design ä¸»é¢˜çš„å®¿ä¸»é¡µé¢</li>
      <li>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è®¾ç½®ä¸åŒçš„ CSS å˜é‡ï¼Œæ¨¡æ‹Ÿå¤–éƒ¨é¡µé¢çš„ä¸»é¢˜æ±¡æŸ“</li>
      <li>æ¿€æ´» Schema Editor æ’ä»¶ï¼Œè§‚å¯Ÿæ’ä»¶ UI æ˜¯å¦å—å½±å“</li>
      <li>æ£€æŸ¥æ’ä»¶å†…çš„ç»„ä»¶æ ·å¼æ˜¯å¦ä¿æŒé»˜è®¤çš„ Ant Design ä¸»é¢˜</li>
    </ol>
  </div>

  <!-- æµ‹è¯•ç”¨ä¾‹ 1ï¼šæ±¡æŸ“ä¸»è‰²è°ƒ -->
  <div class="test-section">
    <div class="test-case">
      <div class="test-title">æµ‹è¯•ç”¨ä¾‹ 1ï¼šæ±¡æŸ“ä¸»è‰²è°ƒ (Primary Color)</div>
      <p>å°†é¡µé¢çš„ä¸»è‰²è°ƒ CSS å˜é‡è®¾ç½®ä¸ºçº¢è‰²ï¼Œè§‚å¯Ÿæ’ä»¶æŒ‰é’®æ˜¯å¦å—å½±å“ã€‚</p>
      <div class="expected">
        âœ… é¢„æœŸç»“æœï¼šæ’ä»¶å†…çš„æŒ‰é’®ä»ç„¶æ˜¯è“è‰² (#1890ff)ï¼Œä¸å—çº¢è‰²æ±¡æŸ“
      </div>
      <div class="button-group">
        <button class="btn-danger" onclick="setPrimaryColor('#ff0000')">è®¾ç½®ä¸ºçº¢è‰² (#ff0000)</button>
        <button class="btn-primary" onclick="resetPrimaryColor()">é‡ç½®ä¸ºé»˜è®¤</button>
      </div>
    </div>
  </div>

  <!-- æµ‹è¯•ç”¨ä¾‹ 2ï¼šæ±¡æŸ“è¾¹æ¡†é¢œè‰² -->
  <div class="test-section">
    <div class="test-case">
      <div class="test-title">æµ‹è¯•ç”¨ä¾‹ 2ï¼šæ±¡æŸ“è¾¹æ¡†é¢œè‰² (Border Color)</div>
      <p>å°†é¡µé¢çš„è¾¹æ¡†é¢œè‰²è®¾ç½®ä¸ºæ·±ç´«è‰²ï¼Œè§‚å¯Ÿæ’ä»¶ç»„ä»¶è¾¹æ¡†æ˜¯å¦å—å½±å“ã€‚</p>
      <div class="expected">
        âœ… é¢„æœŸç»“æœï¼šæ’ä»¶å†…çš„è¾¹æ¡†ä¿æŒç°è‰² (#d9d9d9)ï¼Œä¸å—ç´«è‰²æ±¡æŸ“
      </div>
      <div class="button-group">
        <button class="btn-primary" onclick="setBorderColor('#7c3aed')">è®¾ç½®ä¸ºç´«è‰² (#7c3aed)</button>
        <button class="btn-primary" onclick="resetBorderColor()">é‡ç½®ä¸ºé»˜è®¤</button>
      </div>
    </div>
  </div>

  <!-- æµ‹è¯•ç”¨ä¾‹ 3ï¼šæ±¡æŸ“å­—ä½“å¤§å° -->
  <div class="test-section">
    <div class="test-case">
      <div class="test-title">æµ‹è¯•ç”¨ä¾‹ 3ï¼šæ±¡æŸ“å­—ä½“å¤§å° (Font Size)</div>
      <p>å°†é¡µé¢çš„åŸºç¡€å­—ä½“å¤§å°è®¾ç½®ä¸º 20pxï¼Œè§‚å¯Ÿæ’ä»¶æ–‡å­—å¤§å°æ˜¯å¦å—å½±å“ã€‚</p>
      <div class="expected">
        âœ… é¢„æœŸç»“æœï¼šæ’ä»¶å†…çš„æ–‡å­—ä¿æŒ 14pxï¼Œä¸å— 20px æ±¡æŸ“
      </div>
      <div class="button-group">
        <button class="btn-primary" onclick="setFontSize('20px')">è®¾ç½®ä¸º 20px</button>
        <button class="btn-primary" onclick="resetFontSize()">é‡ç½®ä¸ºé»˜è®¤</button>
      </div>
    </div>
  </div>

  <!-- æµ‹è¯•ç”¨ä¾‹ 4ï¼šæ±¡æŸ“åœ†è§’ -->
  <div class="test-section">
    <div class="test-case">
      <div class="test-title">æµ‹è¯•ç”¨ä¾‹ 4ï¼šæ±¡æŸ“åœ†è§’ (Border Radius)</div>
      <p>å°†é¡µé¢çš„åœ†è§’è®¾ç½®ä¸º 20pxï¼Œè§‚å¯Ÿæ’ä»¶æŒ‰é’®åœ†è§’æ˜¯å¦å—å½±å“ã€‚</p>
      <div class="expected">
        âœ… é¢„æœŸç»“æœï¼šæ’ä»¶å†…çš„æŒ‰é’®åœ†è§’ä¿æŒ 6pxï¼Œä¸å— 20px æ±¡æŸ“
      </div>
      <div class="button-group">
        <button class="btn-primary" onclick="setBorderRadius('20px')">è®¾ç½®ä¸º 20px</button>
        <button class="btn-primary" onclick="resetBorderRadius()">é‡ç½®ä¸ºé»˜è®¤</button>
      </div>
    </div>
  </div>

  <!-- æµ‹è¯•ç”¨ä¾‹ 5ï¼šå…¨éƒ¨æ±¡æŸ“ -->
  <div class="test-section">
    <div class="test-case">
      <div class="test-title">æµ‹è¯•ç”¨ä¾‹ 5ï¼šç»¼åˆæ±¡æŸ“æµ‹è¯•</div>
      <p>åŒæ—¶è®¾ç½®å¤šä¸ª CSS å˜é‡ï¼Œæ¨¡æ‹Ÿæç«¯æ±¡æŸ“åœºæ™¯ã€‚</p>
      <div class="expected">
        âœ… é¢„æœŸç»“æœï¼šæ’ä»¶å†…çš„æ‰€æœ‰ç»„ä»¶æ ·å¼ä¿æŒç‹¬ç«‹ï¼Œä¸å—ä»»ä½•å¤–éƒ¨å˜é‡å½±å“
      </div>
      <div class="button-group">
        <button class="btn-danger" onclick="setAllPolluted()">æ±¡æŸ“æ‰€æœ‰å˜é‡</button>
        <button class="btn-success" onclick="resetAll()">é‡ç½®æ‰€æœ‰å˜é‡</button>
      </div>
    </div>
  </div>

  <!-- å½“å‰ CSS å˜é‡æ˜¾ç¤º -->
  <div class="test-section">
    <h2>ğŸ” å½“å‰é¡µé¢ CSS å˜é‡</h2>
    <p class="description">ä¸‹æ–¹æ˜¾ç¤ºå½“å‰é¡µé¢è®¾ç½®çš„ Ant Design ç›¸å…³ CSS å˜é‡å€¼ï¼š</p>
    <div class="css-vars-display" id="cssVarsDisplay">
      ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®åï¼Œè¿™é‡Œä¼šæ˜¾ç¤ºå½“å‰è®¾ç½®çš„ CSS å˜é‡...
    </div>
    <div class="button-group">
      <button class="btn-primary" onclick="displayCSSVars()">åˆ·æ–°æ˜¾ç¤º</button>
    </div>
  </div>

  <!-- æµ‹è¯•å…ƒç´  -->
  <div id="test-element" style="display: none;" data-content-id="test-123">
    è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å…ƒç´ ï¼Œç”¨äºæ¿€æ´»æ’ä»¶
  </div>

  <script>
    // è®¾ç½®ä¸»è‰²è°ƒ
    function setPrimaryColor(color) {
      document.documentElement.style.setProperty('--ant-primary-color', color);
      document.documentElement.style.setProperty('--ant-primary-color-hover', color);
      document.documentElement.style.setProperty('--ant-primary-color-active', color);
      displayCSSVars();
      console.log('âœ… å·²è®¾ç½®ä¸»è‰²è°ƒä¸º:', color);
    }

    function resetPrimaryColor() {
      document.documentElement.style.removeProperty('--ant-primary-color');
      document.documentElement.style.removeProperty('--ant-primary-color-hover');
      document.documentElement.style.removeProperty('--ant-primary-color-active');
      displayCSSVars();
      console.log('âœ… å·²é‡ç½®ä¸»è‰²è°ƒ');
    }

    // è®¾ç½®è¾¹æ¡†é¢œè‰²
    function setBorderColor(color) {
      document.documentElement.style.setProperty('--ant-border-color-base', color);
      document.documentElement.style.setProperty('--ant-border-color', color);
      displayCSSVars();
      console.log('âœ… å·²è®¾ç½®è¾¹æ¡†é¢œè‰²ä¸º:', color);
    }

    function resetBorderColor() {
      document.documentElement.style.removeProperty('--ant-border-color-base');
      document.documentElement.style.removeProperty('--ant-border-color');
      displayCSSVars();
      console.log('âœ… å·²é‡ç½®è¾¹æ¡†é¢œè‰²');
    }

    // è®¾ç½®å­—ä½“å¤§å°
    function setFontSize(size) {
      document.documentElement.style.setProperty('--ant-font-size-base', size);
      displayCSSVars();
      console.log('âœ… å·²è®¾ç½®å­—ä½“å¤§å°ä¸º:', size);
    }

    function resetFontSize() {
      document.documentElement.style.removeProperty('--ant-font-size-base');
      displayCSSVars();
      console.log('âœ… å·²é‡ç½®å­—ä½“å¤§å°');
    }

    // è®¾ç½®åœ†è§’
    function setBorderRadius(radius) {
      document.documentElement.style.setProperty('--ant-border-radius-base', radius);
      displayCSSVars();
      console.log('âœ… å·²è®¾ç½®åœ†è§’ä¸º:', radius);
    }

    function resetBorderRadius() {
      document.documentElement.style.removeProperty('--ant-border-radius-base');
      displayCSSVars();
      console.log('âœ… å·²é‡ç½®åœ†è§’');
    }

    // æ±¡æŸ“æ‰€æœ‰å˜é‡
    function setAllPolluted() {
      setPrimaryColor('#ff0000');
      setBorderColor('#7c3aed');
      setFontSize('20px');
      setBorderRadius('20px');
      console.log('ğŸ’£ å·²æ±¡æŸ“æ‰€æœ‰ CSS å˜é‡');
    }

    // é‡ç½®æ‰€æœ‰å˜é‡
    function resetAll() {
      resetPrimaryColor();
      resetBorderColor();
      resetFontSize();
      resetBorderRadius();
      console.log('âœ… å·²é‡ç½®æ‰€æœ‰ CSS å˜é‡');
    }

    // æ˜¾ç¤ºå½“å‰ CSS å˜é‡
    function displayCSSVars() {
      const vars = [
        '--ant-primary-color',
        '--ant-primary-color-hover',
        '--ant-primary-color-active',
        '--ant-border-color-base',
        '--ant-border-color',
        '--ant-font-size-base',
        '--ant-border-radius-base',
      ];

      const styles = getComputedStyle(document.documentElement);
      let output = '<strong>é¡µé¢æ ¹å…ƒç´ çš„ CSS å˜é‡ï¼š</strong><br><br>';

      vars.forEach(varName => {
        const value = styles.getPropertyValue(varName) || '(æœªè®¾ç½®)';
        output += `${varName}: <span style="color: #73d13d">${value}</span><br>`;
      });

      output += '<br><strong>è¯´æ˜ï¼š</strong><br>';
      output += 'â€¢ è¿™äº›å˜é‡è®¾ç½®åœ¨é¡µé¢æ ¹å…ƒç´ ä¸Š<br>';
      output += 'â€¢ CSS å˜é‡ä¼šæ²¿ DOM æ ‘ç»§æ‰¿ï¼ŒåŒ…æ‹¬ç©¿é€ Shadow DOM<br>';
      output += 'â€¢ æ’ä»¶é€šè¿‡ ConfigProvider çš„ theme é…ç½®è¦†ç›–è¿™äº›å˜é‡<br>';
      output += 'â€¢ å¦‚æœæ’ä»¶æ ·å¼ä¸å—å½±å“ï¼Œè¯´æ˜éš”ç¦»æˆåŠŸ âœ…';

      document.getElementById('cssVarsDisplay').innerHTML = output;
    }

    // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºåˆå§‹çŠ¶æ€
    window.addEventListener('load', () => {
      displayCSSVars();
      console.log('ğŸ“„ CSS å˜é‡éš”ç¦»æµ‹è¯•é¡µé¢å·²åŠ è½½');
      console.log('ğŸ’¡ æç¤ºï¼šå®‰è£…å¹¶æ¿€æ´» Schema Editor æ’ä»¶ï¼Œç„¶åç‚¹å‡»æµ‹è¯•æŒ‰é’®');
    });
  </script>
</body>
</html>

